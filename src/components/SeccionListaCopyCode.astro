---
import Separador from './Separador.astro'
import CardCopyCode from './CardCopyCode.astro'

const { title, lista, id } = Astro.props
---

<article
	id={id}
	class="m-auto sm:mr-9">
	<h3 class="mb-5">{title}</h3>
	{
		lista.map((elemento) => (
			<div class="comando-contenedor mb-10 sm:ml-10">
				<p class="mb-5 text-lg font-bold">{elemento.titulo}</p>
				<div class="comando-wrapper">
					<CardCopyCode textToCopy={elemento.codigo} />
				</div>
				{elemento.descripcion && <p>{elemento.descripcion}</p>}
			</div>
		))
	}
</article>
<Separador />

<style>
	.comando-contenedor {
		width: 100%;
	}

	.comando-wrapper {
		width: 100%;
		max-width: 100%;
		overflow-wrap: break-word;
		word-wrap: break-word;
		word-break: break-word;
		hyphens: auto;
	}

	/* Aseguramos que el código dentro de las card también tenga saltos de línea */
	:global(.comando-wrapper pre),
	:global(.comando-wrapper code) {
		white-space: pre-wrap !important;
		word-break: break-word !important;
		overflow-wrap: break-word !important;
		max-width: 100% !important;
		padding-right: 45px !important; /* Reservamos espacio para el botón de copiar */
	}

	:global(.comando-wrapper .button-copy) {
		z-index: 10;
	}
</style>
